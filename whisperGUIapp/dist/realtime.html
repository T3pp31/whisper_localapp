<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>リアルタイム文字起こし</title>
  <link rel="stylesheet" href="styles.css">
  <style>
    .rt-container { padding: 16px; }
    .rt-row { display: flex; gap: 8px; align-items: center; margin-bottom: 12px; }
    .vu { height: 10px; background: #eee; width: 260px; position: relative; border-radius: 4px; overflow: hidden; }
    .vu > span { display: block; height: 100%; background: #4caf50; width: 0%; }
    .area { width: 100%; min-height: 140px; }
    .mono { font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace; white-space: pre-wrap; }
  </style>
  <script>
    window.__TAURI__ || (window.__TAURI__ = {});
  </script>
  <script defer src="realtime.js"></script>
</head>
<body>
  <div class="rt-container">
    <h2>リアルタイム文字起こし（ローカル）</h2>
    <div class="rt-row">
      <label for="rt-device" style="min-width: 80px;">マイク</label>
      <select id="rt-device" style="min-width:240px;"></select>
      <span id="rt-device-hint" style="font-size:12px;color:#777;">未選択は既定デバイス</span>
    </div>
    <div class="rt-row">
      <label for="rt-language" style="min-width: 80px;">言語</label>
      <select id="rt-language" style="min-width:140px;">
        <option value="auto">自動検出</option>
        <option value="ja" selected>日本語</option>
        <option value="en">English</option>
        <option value="zh">中文</option>
        <option value="ko">한국어</option>
      </select>
    </div>
    <div class="rt-row">
      <label for="rt-threads" style="min-width: 80px;">CPU</label>
      <input id="rt-threads" type="number" min="1" step="1" style="width: 90px;">
      <span id="rt-threads-max" style="font-size:12px;color:#777;">-</span>
    </div>
    <div class="rt-row">
      <button id="rt-start">開始</button>
      <button id="rt-stop" disabled>停止</button>
      <span id="rt-status">待機中</span>
    </div>
    <div class="rt-row">
      <label>入力レベル</label>
      <div class="vu"><span id="rt-vu"></span></div>
      <span id="rt-vu-text" style="font-size:12px;color:#666;">- dB</span>
    </div>
    <div class="rt-row" style="flex-direction: column; align-items: stretch;">
      <label>途中結果</label>
      <div id="rt-partial" class="area mono" style="background:#fafafa;border:1px solid #eee;padding:8px;"></div>
    </div>
    <div class="rt-row" style="flex-direction: column; align-items: stretch;">
      <label>確定結果</label>
      <textarea id="rt-final" class="area" readonly placeholder="まだ結果がありません"></textarea>
    </div>
  </div>
</body>
</html>
